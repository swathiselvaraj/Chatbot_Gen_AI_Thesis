streamlitV2.py
 
chat if this is the prompt how will you answer the question why not option 2 

elif is_followup and non_dashboard:
    original_rec = st.session_state.get("original_recommendation")
    context_parts = []
    if original_rec:
        context_parts.append(
            f"Earlier Recommendation:\n"
            f"Recommended option: {original_rec['text']}\n"
            f"Reason: {original_rec['reasoning']}\n"
        )

    prompt = f"""You are a chatbot that answers questions strictly related to supermarket scenarios, including sales, marketing, and data insights provided in a specific JSON file. Your responses must always adhere to the following rules and context.

Context:
- Original question: {question}
- Options:
{chr(10).join(options)}

{''.join(context_parts) if context_parts else ''}
{f"- Referenced option: {referenced_option}" if referenced_option else ''}

Rules:
1. First, check if the question pertains to the JSON data. If it does, use the data to provide your answer.
2. If not, check if the topic is relevant to supermarket scenarios, retail operations, marketing, or sales.
3. If the question is about the original question, the four options, or challenges to the recommended solution:
   - Respond using all the available context and justify the recommended option.
4. If a user suggests an alternative option, acknowledge their reasoning but explain clearly and concisely why the recommended option is better, based on logic, operational research, or available data.
5. If the question does not match any of the above categories, respond with:
   "Please ask a question related to the survey."

Limit every response to 50 words or fewer.

Respond in this format:
Chatbot answer: "<your answer here>"
"""


